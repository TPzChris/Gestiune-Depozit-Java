<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Cont nou</title>
        <link rel="stylesheet" href="logincss.css">
        <style>
</style>
<script>
function formValidation()
{
var passid = document.forms['form']['pass'];
var uname = document.forms['form']['uname'];
var uemail = document.forms['form']['Email'];
{
    if(passid_validation(passid,7,12) && userid_validation(uname, 5, 12) && ValidateEmail(uemail))
    {
        
    }
return false;
} 

}

function userid_validation(uid,mx,my)
{
var uid_len = uid.value.length;
if (uid_len == 0 || uid_len >= my || uid_len < mx)
        {
            alert("Lungimea username-ului trebuie sa fie cuprinsa intre " + mx + " si " + my);
            uid.focus();
            return false;
        }
        return true;
    }

function passid_validation(passid, mx, my)
{
    var passid_len = passid.value.length;
    if (passid_len == 0 || passid_len >= my || passid_len < mx)
    {
        alert("Parola trebuie sa aiba lungimea cuprinsa intre " + mx + " si " + my + " caractere");
        passid.focus();
        return false;
    }
    return true;
}

function ValidateEmail(uemail)
{
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    if (uemail.value.match(mailformat))
    {
        return true;
    } else
    {
        alert("Ati introdus o adresa de email invalida.");
        uemail.focus();
        return false;
    }
}

window.onload = function() {
    fetch('options.txt')
    .then(response => response.text())
    .then(text => document.getElementById('country').innerHTML = text)

     };
     
function setCountry(){
    var x = document.getElementById("country").value;
    document.getElementById('country').value = x;
}     
    

</script>
    </head>
    <body >
        <form action="RegistrationController" method="post" onSubmit="return formValidation();" name="form" enctype='multipart/form-data'>
        <div class="form-container">
            <div class="user-img"></div>
            <ul class="list">
                <li><h2>Register</h2></li>
                <li><input type="text" name="uname" placeholder="Nume" required></li>
                <li><input type="password" name="pass" placeholder="Parola" required></li>
                <li><input type="password" name="pass1" placeholder="Reintroduceti parola" required></li>
                <li><input type="email" name="email" placeholder="Email" required></li>
                <li><input type="tel" id="Tel" name="Tel" placeholder="123-45-678" pattern="[+ 0-9]{10}" required></li>
                <li><input type="radio" name="gender" value="male">Male<br>
                    <input type="radio" name="gender" value="female">Female<br>
                    <input type="radio" name="gender" value="other">Other</li>
                <li id="Tara"><select id="country" name="country"></select></li>
                <li><input type="file" id="avatar" name="avatar" accept="image/png, image/jpeg, image/jpg" required></li>
                <li><button type="submit" class="registerbtn">Register</button></li>
                <li><a href="ACASA.jsp">Inapoi la pagina principala...</a></li>
            </ul>
        </div>
        </form>
    </body>  
</html>
